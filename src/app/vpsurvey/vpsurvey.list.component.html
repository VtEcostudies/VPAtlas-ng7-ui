<div class="row">
  <div class="col-12">
    ï»¿<h3><u>VPAtlas Surveys</u></h3>
    <button (click)="Cancel()" class="btn">Cancel</button>
    <label>Count: {{count}}</label>
  </div>
</div>
<form [formGroup]="filterForm">
  <div class="row">
    <div class="form-group col-2">
      <label>Survey ID</label>
      <input (change)="LoadSurveys()" type="text" formControlName="surveyId" class="form-control"/>
    </div>
<!--
    <div class="form-group col-2">
      <label>Email</label>
      <input (change)="LoadSurveys()" type="text" formControlName="surveyUserEmail" class="form-control"/>
    </div>
-->
    <div class="form-group col-2">
      <label>Pool ID</label>
      <select (change)="LoadSurveys()" formControlName="surveyPoolId" class="form-control">
        <option *ngFor="let pool of surveyPools" [ngValue]="pool">
          {{ pool.surveyPoolId }}
        </option>
      </select>
    </div>
    <div class="form-group col-2">
      <label>Survey Type</label>
      <select (change)="LoadSurveys()" formControlName="surveyTypeId" class="form-control">
        <option *ngFor="let type of surveyTypes" [ngValue]="type">
          {{ type }}
        </option>
      </select>
    </div>
<!--
    <div class="form-group col-2">
      <label>Observer</label>
      <select (change)="LoadSurveys()" formControlName="surveyObserver" class="form-control">
        <option *ngFor="let obs of surveyObs" [ngValue]="obs">
          {{ obs.surveyObserver }}
        </option>
      </select>
    </div>
  </div>
  <div class="row">
-->
    <div class="form-group col-2">
      <label>Begin Survey Date</label>
      <input (change)="LoadSurveys()" type="date" formControlName="surveyDateBeg" class="form-control"/>
    </div>
    <div class="form-group col-2">
      <label>End Survey Date</label>
      <input (change)="LoadSurveys()" type="date" formControlName="surveyDateEnd" class="form-control"/>
    </div>
  </div>

</form>

<div class="row">
<table class="table table-striped">
    <tr>
      <th>Survey ID</th>
      <th>User</th>
      <!--<th>Email</th>-->
      <th>Pool ID</th>
      <th>Date</th>
      <th>Time</th>
      <th>Type</th>
      <th>Observer/Amphib</th>
      <th>Macros</th>
      <th>Photo</th>
    </tr>
    <tr *ngFor="let survey of surveys">
        <td>
          <!--
          <a [routerLink]="['/survey/view/', survey.surveyId]" class="btn btn-link">{{survey.surveyId}}</a>
          -->
          {{survey.surveyId}}
        </td>
        <td>{{survey.username}}</td>
        <!--<td>{{survey.surveyUserEmail}}</td>-->
        <td>{{survey.surveyPoolId}}</td>
        <td>{{survey.surveyDate}}</td>
        <td>{{survey.surveyTime}}</td>
        <td>{{survey.surveyTypeId}}</td>
        <td class="btn-link" (click)="ShowJson(survey.surveyAmphib)">Amphibs</td>
        <td class="btn-link" (click)="ShowJson(survey.surveyMacroJson)">Macros</td>
        <td *ngIf="survey.surveyPhotoJson">
          <a *ngIf="survey.surveyPhotoJson.surveyPhotoUrl" href="{{survey.surveyPhotoJson.surveyPhotoUrl}}" target=_blank>
            <img class="survey-list-photo" src="{{survey.surveyPhotoJson.surveyPhotoUrl}}"/>
          </a>
        </td>
        <td class="survey-list-photo" *ngIf="!survey.surveyPhotoJson">
        </td>
    </tr>
</table>
</div> <!-- row -->
