<!-- nav -->
<div *ngIf="bannerMessage" class="row dev-background">
  <div class="col-lg-2"></div>
  <div class="col-lg-8">
    {{bannerMessage}}
  </div>
  <div class="col-lg-2"></div>
</div>

<div class="row vce-green">

  <div class="col-lg-1 col-md-1 col-sm-12 col-xs-12 vce-logo-noshrink">
    <!--
    <a href="https://val.vtecostudies.org/projects/vermont-vernal-pool-atlas/">
    -->
    <a href="src/vpatlas_banner.jpg">
      <img [src]="vceLogoPath" height="30px" alt="VCE Vernal Pool Mapping Project">
    </a>
  </div>

  <div class="col-lg-9">
    <nav class="navbar navbar-expand navbar-dark vce-green">
        <ul class="navbar-nav">

            <li class="nav-item">
              <a class="nav-link" routerLink="/">VPAtlas Home</a>
            </li>

            <li class="nav-item" *ngIf="!userIsAdmin">
              <a class="nav-link" routerLink="/pools/list">View Pools</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Field-Data Guides
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/04/VPAtlas_Datasheet_2020-fillable.pdf">
                  VPVisit Data Sheet
                </a>
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/03/VPAtlas-Field-Form-Instructions_2020.pdf">
                  VPVisit Instructions
                </a>
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/03/Indicator-Species-ID-Sheet-1.pdf">
                  Indicator Species Identification Aids
                </a>
                <a class="dropdown-item" target="_blank" href="assets/images/VPAtlas_S123_Visits.png">
                  VPVisit Survey 123 Mobile Application Instructions
                </a>
              </div>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                View Pools
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/pools/list" >All Data</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" routerLink="/pools/mapped/list" *ngIf="userIsAdmin">(Mapped Pools)</a>
                <a class="dropdown-item" routerLink="/pools/visit/list" *ngIf="userIsAdmin">(Pool Visits)</a>
              </div>
            </li>

            <li class="nav-item dropdown" *ngIf="!userIsAdmin && currentUser">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Download
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" (click)="download('csv')">CSV</a>
                <a class="dropdown-item" (click)="download('geojson')">GeoJson</a>
                <a class="dropdown-item" (click)="download('shapefile')">Shape File</a>
              </div>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle" (click)="downloadTopLevelClick($event)" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Download
              </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" (click)="dropdownSubMenuToggle($event, 'dropCsv')">CSV <span class="fa-caret"></span></a>
                    <ul id="dropCsv" class="dropdown-menu">
                      <a class="dropdown-item" (click)="download('csv')">Selected Pools</a>
                      <a class="dropdown-item" (click)="download('csv', 'pools')">All Data</a>
                      <a class="dropdown-item" (click)="download('csv', 'mapped')">Mapped Pools</a>
                      <a class="dropdown-item" (click)="download('csv', 'visit')">Pool Visits</a>
                      <a class="dropdown-item" (click)="download('csv', 'survey')">Pool Surveys</a>
                    </ul>
                  <a class="dropdown-item" (click)="dropdownSubMenuToggle($event, 'dropGeo')">GeoJSON <span class="fa-caret"></span></a>
                    <ul id="dropGeo" class="dropdown-menu">
                      <a class="dropdown-item" (click)="download('geojson')">Selected Pools</a>
                      <a class="dropdown-item" (click)="download('geojson', 'mapped')">Mapped Pools</a>
                      <a class="dropdown-item" (click)="download('geojson', 'visit')">Pool Visits</a>
                      <a class="dropdown-item" (click)="download('geojson', 'survey')">Pool Surveys</a>
                    </ul>
                  <a class="dropdown-item" (click)="dropdownSubMenuToggle($event, 'dropShp')">Shapefile <span class="fa-caret"></span></a>
                    <ul id="dropShp" class="dropdown-menu">
                      <a class="dropdown-item" (click)="download('shapefile')">Selected Pools</a>
                      <a class="dropdown-item" (click)="download('shapefile', 'mapped')">Mapped Pools</a>
                      <a class="dropdown-item" (click)="download('shapefile', 'visit')">Pool Visits</a>
                      <a class="dropdown-item" (click)="download('shapefile', 'survey')">Pool Surveys</a>
                    </ul>
                </div>
            </li>
<!--
            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                CSV
              </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" (click)="download('csv')">Selected Pools</a>
                  <a class="dropdown-item" (click)="download('csv', 'pools')">All Pools</a>
                  <a class="dropdown-item" (click)="download('csv', 'mapped')">Mapped Pools</a>
                  <a class="dropdown-item" (click)="download('csv', 'visit')">Pool Visits</a>
                  <a class="dropdown-item" (click)="download('csv', 'survey')">Pool Surveys</a>
                  <a class="dropdown-item dropdown-submenu">
                    <a class="test" (click)="dropdownSubMenuToggle($event, 'droptest')">New dropdown <span class="fa-caret"></span></a>
                    <ul id="droptest" class="dropdown-menu">
                      <a class="dropdown-item">2nd level dropdown</a>
                      <a class="dropdown-item">2nd level dropdown</a>
                    </ul>
                </a>
            </div>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                GeoJson
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" (click)="download('geojson')">Selected Pools</a>
                <a class="dropdown-item" (click)="download('geojson', 'mapped')">Mapped Pools</a>
                <a class="dropdown-item" (click)="download('geojson', 'visit')">Pool Visits</a>
                <a class="dropdown-item" (click)="download('geojson', 'survey')">Pool Surveys</a>
              </div>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Shape File
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" (click)="download('shapefile')">Selected Pools</a>
                <a class="dropdown-item" (click)="download('shapefile', 'mapped')">Mapped Pools</a>
                <a class="dropdown-item" (click)="download('shapefile', 'visit')">Pool Visits</a>
                <a class="dropdown-item" (click)="download('shapefile', 'survey')">Pool Surveys</a>
              </div>
            </li>
-->
            <li class="nav-item" *ngIf="!userIsAdmin">
              <a class="nav-link" routerLink="/pools/visit/create">Add Data</a>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Add Data
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/pools/visit/create">Add Pool Visit</a>
                <a class="dropdown-item" routerLink="/pools/mapped/create">(Add Mapped Pool)</a>
                <a class="dropdown-item" routerLink="/pools/visit/upload">(Visit CSV Upload)</a>
                <a class="dropdown-item" routerLink="/pools/visit/s123load">(Visit API Load)</a>
                <a class="dropdown-item" routerLink="/survey/upload">(VPMon CSV UPload)</a>
                <a class="dropdown-item" routerLink="/survey/s123load">(VPMon API Load)</a>
              </div>
            </li>

            <li class="nav-item" *ngIf="userIsAdmin">
              <a class="nav-item nav-link" routerLink="/review/list">Reviews</a>
            </li>

            <li class="nav-item">
              <a class="nav-item nav-link" routerLink="/survey/list">Surveys</a>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Admin
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/users">Users</a>
                <a class="dropdown-item" (click)="profile()">Profile</a>
                <!-- <a class="dropdown-item" routerLink="/uploads">Upload Logs</a> -->
              </div>
            </li>

            <li class="nav-item" *ngIf="!userIsAdmin&&currentUser" >
              <a class="nav-item nav-link" (click)="profile()">Profile</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" (click)="logout()" *ngIf="currentUser" >Logout ({{currentUser.user.username}})</a>
              <a class="nav-link" routerLink="/login" *ngIf="!currentUser" >Login/Register</a>
            </li>

            <!--
            <a class="nav-item nav-link" routerLink="/pools/list" >View Pools</a>
            <a class="nav-item nav-link" routerLink="/pools/mapped/list" *ngIf="userIsAdmin" >(Mapped Pools)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/list" *ngIf="userIsAdmin" >(Pool Visits)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/create" *ngIf="userIsAdmin" >Add Visit</a>
            <a class="nav-item nav-link" routerLink="/pools/mapped/create" *ngIf="userIsAdmin" >(Add Mapped Pool)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/create" *ngIf="currentUser" >Add Pool Data</a>
            -->
            <!--
            <a class="nav-item nav-link" routerLink="/pools/mapped/import" >Import Pools</a>
            <a class="nav-item nav-link" routerLink="/user" *ngIf="currentUser" >Profile</a>
            -->
            <!--
            <a class="nav-item nav-link" routerLink="/admin" *ngIf="userIsAdmin" >Admin</a>
            <a class="nav-item nav-link" (click)="logout()" *ngIf="currentUser" >Logout ({{currentUser.username}})</a>
            <a class="nav-item nav-link" routerLink="/login" *ngIf="!currentUser" >Login/Register</a>
            -->
            <!-- interesting menu-bar search option...
            <form class="form-inline my-2 my-lg-0">
              <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
            -->
        </ul>
<!--
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="https://vtfishandwildlife.com/">
                <img [src]="fNwLogoPath" height="20" alt="VT F&W">
                Vermont Fish & Wildlife
              </a>
            </li>
        </ul>
-->
      </nav>
  </div> <!-- col:navbar -->
  <div class="col-lg-1 ml-auto" style="padding-bottom:5px;"> <!-- NOTE: ml-auto is class that pushes this content to the right... -->
    <a href="https://vtfishandwildlife.com/" style="margin-left:5px;" title="VT F&W">
      <img [src]="fNwLogoPath" height="20" alt="VT F&W">
    </a>
  </div>
</div> <!-- row:navbar -->

<!-- main app container
<div id="jumbotron" class="jumbotron">
-->
<div id="jumbotron">
    <div id="container" class="container-fluid"> <!-- fluid makes content fit the device's screen -->
      <div class="row">
            <div class="col-lg-12">
              <alert></alert>
                <router-outlet></router-outlet>
              </div>
            </div>
    </div>
</div>

<!-- credits -->
<div id="footer" class="footer text-center">
  <div class="row">
    <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
      <a href="https://vtecostudies.org/projects/forests/vernal-pool-conservation/vermont-vernal-pool-mapping-project/">
        <img [src]="vceLogoPath">
      </a>
    </div>
    <div class="col-lg-6 col-md-12 col-sm-12 col-xs-12">
      <p>
        VPAtlas is a joint effort of the
        <a href="https://vtecostudies.org/projects/forests/vernal-pool-conservation/" target="_top">Vermont Center for Ecostudies</a>
        and
        <a href="https://vtfishandwildlife.com/" target="_top">Vermont Fish & Wildlife</a>
      </p>
    </div>
    <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
      <a href="https://vtfishandwildlife.com/">
        <img style="/*float:right;*/" [src]="fNwLogoPath">
      </a>
    </div>
  </div>
</div>
