<!-- nav -->
<div *ngIf="bannerMessage" class="row dev-background">
  <div class="col-2"></div>
  <div class="col-8">
    {{bannerMessage}}
  </div>
  <div class="col-2"></div>
</div>

<div class="row vce-green">

  <div class="col-1 vce-logo-noshrink">
    <!--
    <a href="https://val.vtecostudies.org/projects/vermont-vernal-pool-atlas/">
    -->
    <a href="src/vpatlas_banner.jpg">
      <img [src]="vceLogoPath" height="30px" alt="VCE Vernal Pool Mapping Project">
    </a>
  </div>

  <div class="col-10">
    <nav class="navbar navbar-expand navbar-dark vce-green">
        <ul class="navbar-nav">

            <li class="nav-item">
              <a class="nav-link" routerLink="/">VPAtlas Home</a>
            </li>

            <li class="nav-item" *ngIf="!userIsAdmin">
              <a class="nav-link" routerLink="/pools/list">View Pools</a>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Field-Data Guides
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/04/VPAtlas_Datasheet_2020-fillable.pdf">
                  VPMap Data Sheet
                </a>
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/03/VPAtlas-Field-Form-Instructions_2020.pdf">
                  VPMap Instructions
                </a>
                <a class="dropdown-item" target="_blank" href="https://vtecostudies.org/wp-content/uploads/2020/03/Indicator-Species-ID-Sheet-1.pdf">
                  Indicator Species Identification Aids
                </a>
              </div>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                View Pools
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/pools/list" >All Data</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" routerLink="/pools/mapped/list" *ngIf="userIsAdmin">(Mapped Pools)</a>
                <a class="dropdown-item" routerLink="/pools/visit/list" *ngIf="userIsAdmin">(Pool Visits)</a>
              </div>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                CSV
              </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/pools/csv?download=1">All Data</a>
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/mapped/csv?download=1">Mapped Pools</a>
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/visit/csv?download=1">Pool Visits</a>
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/survey/csv?download=1">Pool Surveys</a>
                </ul>
            </li>

            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                GeoJson
              </a>
                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/mapped/geojson?download=1">Mapped Pools</a>
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/visit/gejson?download=1">Pool Visits</a>
                  <a class="dropdown-item" target="_blank" href="{{apiUrl}}/survey/geojson?download=1">Pool Surveys</a>
                </ul>
            </li>

            <li class="nav-item" *ngIf="currentUser&&!userIsAdmin">
              <a class="nav-link" routerLink="/pools/visit/create">Add Pool Data</a>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Add Pool Data
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/pools/visit/create">Add Pool Data</a>
                <a class="dropdown-item" routerLink="/pools/mapped/create">(Add Mapped Pool)</a>
                <a class="dropdown-item" routerLink="/pools/visit/upload">(Visit CSV Upload)</a>
                <a class="dropdown-item" routerLink="/pools/visit/s123load">(Visit API Load)</a>
                <a class="dropdown-item" routerLink="/survey/upload">(VPMon CSV UPload)</a>
                <a class="dropdown-item" routerLink="/survey/s123load">(VPMon API Load)</a>
              </div>
            </li>

            <li class="nav-item" *ngIf="userIsAdmin">
              <a class="nav-item nav-link" routerLink="/review/list">Reviews</a>
            </li>

            <li class="nav-item">
              <a class="nav-item nav-link" routerLink="/survey/list">Surveys</a>
            </li>

            <li class="nav-item dropdown" *ngIf="userIsAdmin">
              <a class="nav-link dropdown-toggle"
                id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Admin
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" routerLink="/users">Users</a>
                <a class="dropdown-item" routerLink="/uploads">Upload Logs</a>
              </div>
            </li>

            <li class="nav-item" *ngIf="!userIsAdmin&&currentUser" >
              <a class="nav-item nav-link" (click)="profile()">Profile</a>
            </li>

            <li class="nav-item">
              <a class="nav-link" (click)="logout()" *ngIf="currentUser" >Logout ({{currentUser.user.username}})</a>
              <a class="nav-link" routerLink="/login" *ngIf="!currentUser" >Login/Register</a>
            </li>

            <!--
            <a class="nav-item nav-link" routerLink="/pools/list" >View Pools</a>
            <a class="nav-item nav-link" routerLink="/pools/mapped/list" *ngIf="userIsAdmin" >(Mapped Pools)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/list" *ngIf="userIsAdmin" >(Pool Visits)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/create" *ngIf="userIsAdmin" >Add Visit</a>
            <a class="nav-item nav-link" routerLink="/pools/mapped/create" *ngIf="userIsAdmin" >(Add Mapped Pool)</a>
            <a class="nav-item nav-link" routerLink="/pools/visit/create" *ngIf="currentUser" >Add Pool Data</a>
            -->
            <!--
            <a class="nav-item nav-link" routerLink="/pools/mapped/import" >Import Pools</a>
            <a class="nav-item nav-link" routerLink="/user" *ngIf="currentUser" >Profile</a>
            -->
            <!--
            <a class="nav-item nav-link" routerLink="/admin" *ngIf="userIsAdmin" >Admin</a>
            <a class="nav-item nav-link" (click)="logout()" *ngIf="currentUser" >Logout ({{currentUser.username}})</a>
            <a class="nav-item nav-link" routerLink="/login" *ngIf="!currentUser" >Login/Register</a>
            -->
            <!-- interesting menu-bar search option...
            <form class="form-inline my-2 my-lg-0">
              <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form>
            -->
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="https://vtfishandwildlife.com/">
                <img [src]="fNwLogoPath" height="20" alt="VT F&W">
                Vermont Fish & Wildlife
              </a>
            </li>
        </ul>
    </nav>
  </div> <!-- col:navbar -->
</div> <!-- row:navbar -->

<!-- main app container
<div id="jumbotron" class="jumbotron">
-->
<div id="jumbotron">
    <div id="container" class="container-fluid"> <!-- fluid makes content fit the device's screen -->
        <div class="row">
            <div class="col-12">
                <alert></alert>
                <router-outlet></router-outlet>
            </div>
        </div>
    </div>
</div>

<!-- credits -->
<div id="footer" class="footer text-center">
  <div class="row">
    <div class="col-3">
      <a href="https://vtecostudies.org/projects/forests/vernal-pool-conservation/vermont-vernal-pool-mapping-project/">
        <img [src]="vceLogoPath">
      </a>
    </div>
    <div class="col-6">
      <p>
        VPAtlas is a joint effort of the
        <a href="https://vtecostudies.org/projects/forests/vernal-pool-conservation/" target="_top">Vermont Center for Ecostudies</a>
        and
        <a href="https://vtfishandwildlife.com/" target="_top">Vermont Fish & Wildlife</a>
      </p>
    </div>
    <div class="col-3">
      <a href="https://vtfishandwildlife.com/">
        <img style="float:right;" [src]="fNwLogoPath">
      </a>
    </div>
  </div>
</div>
